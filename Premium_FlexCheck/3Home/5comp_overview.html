<!-- ‚ñë‚ñë‚ñë FLEXCHECK ‚Äì COMPETITION OVERVIEW ‚ñë‚ñë‚ñë -->
<div style="text-align: center; margin: 1.5rem 0 5rem;">
  <div style="display: inline-block; background: #1e293b; padding: 0.75rem 1.25rem; border-radius: 30px; border: 1px solid #64748b; box-shadow: 0 0 12px rgba(56, 189, 248, 0.08);">
    <span style="font-size: 0.95rem; font-weight: 600; color: #94a3b8;">
      FlexCheck isn‚Äôt just feedback ‚Äì it‚Äôs a 
      <a href="#compete-section" style="font-weight: 700; color: #38bdf8; text-decoration: underline;">
        weekly challenge</a> (to win REWARDS). 
      <br><br>
      <span style="font-weight:400; font-style:italic;">
        Each FlexCheck submission comes with an entry into the FlexCheck Championship.
      </span>
    </span>
  </div>
</div>


<div style="background:#0f172a; border-radius:1.25rem; padding:2rem 1rem; max-width:860px; margin:2rem auto; box-shadow:0 0 24px rgba(56,189,248,0.12); border:1px solid #334155;">

  <!-- Headline -->
  <div style="text-align: center; margin-bottom: 2rem;">
    <h3 id="compete-section" style="font-size: 1.35rem; font-weight: 800; color: #f8fafc; margin-bottom: 0.5rem;">
      FlexCheck Championship
    </h3>
    <p style="font-size: 1rem; color: #94a3b8; max-width: 540px; margin: 0 auto;">
      Submit. Vote. Win.
    </p>
  </div>

 <!-- Video -->
<div style="max-width:720px; margin: 0 auto 2rem; border-radius: 1rem; overflow: hidden; box-shadow: 0 0 16px rgba(56,189,248,0.12);">
  <iframe src="https://share.descript.com/embed/NwMwW7HPpH1" 
          width="100%" height="405" frameborder="0" allowfullscreen 
          style="border: none;"></iframe>
</div>


<!-- HOW DOES IT WORK (collapsible Quick Steps) -->
<div id="howWrap" style="max-width:720px;margin:1.5rem auto 2rem;">
  <button id="howToggle"
          aria-controls="howContent"
          aria-expanded="false"
          style="width:100%;background:#0b1220;border:1px solid #334155;color:#e5e7eb;
                 font-weight:800;font-size:1rem;border-radius:.8rem;padding:.85rem 1rem;
                 display:flex;align-items:center;justify-content:center;gap:.55rem;
                 cursor:pointer;letter-spacing:.02em;box-shadow:0 0 14px rgba(56,189,248,.12);">
    <span>How does it work?</span>
    <svg width="16" height="16" viewBox="0 0 24 24" style="transition:transform .3s;"><path fill="currentColor" d="M7 10l5 5 5-5z"/></svg>
  </button>

  <div id="howContent"
       style="max-height:0;opacity:0;overflow:hidden;transition:max-height .5s ease,opacity .35s ease;margin-top:.9rem;">
    <!-- Quick Steps -->
    <div style="display:flex;flex-wrap:wrap;gap:1rem;justify-content:center;">
      <div style="flex:1;min-width:200px;background:#1e293b;border-radius:.75rem;padding:1rem;border-left:4px solid #38bdf8;">
        <strong style="color:#f1f5f9;">1. Submit</strong>
        <p style="color:#94a3b8;margin:.25rem 0 0;">Upload your physique to get your FlexScore and compete that week.</p>
      </div>
      <div style="flex:1;min-width:200px;background:#111827;border-radius:.75rem;padding:1rem;border-left:4px solid #64748b;">
        <strong style="color:#f1f5f9;">2. Vote</strong>
        <p style="color:#94a3b8;margin:.25rem 0 0;">Community vote decides weekly winners.</p>
      </div>
      <div style="flex:1;min-width:200px;background:#1e293b;border-radius:.75rem;padding:1rem;border-left:4px solid #38bdf8;">
        <strong style="color:#f1f5f9;">3. Win</strong>
        <p style="color:#94a3b8;margin:.25rem 0 0;">Weekly winners battle in the FlexCheck Championship.</p>
      </div>
    </div>
  </div>
</div>

 <!-- WHY JOIN (collapsible) -->
<div class="why-wrap" id="whyWrap" style="max-width:720px;margin:0 auto;">
  <button id="whyToggle"
          aria-controls="whyContent"
          aria-expanded="false"
          style="width:100%;background:#0f172a;border:1px solid #334155;color:#f8fafc;
                 font-weight:700;font-size:1.05rem;border-radius:.75rem;padding:.85rem 1rem;
                 display:flex;align-items:center;justify-content:center;gap:.5rem;cursor:pointer;">
    <span>Why Join?</span>
    <svg width="16" height="16" viewBox="0 0 24 24" style="transition:transform .3s;"><path fill="currentColor" d="M7 10l5 5 5-5z"/></svg>
  </button>

  <div id="whyContent"
       style="max-height:0;overflow:hidden;opacity:0;transition:max-height .5s ease,opacity .35s ease;margin-top:.9rem;">
    <!-- Benefits Grid -->
    <div style="display:grid; grid-template-columns:repeat(2,1fr); gap:1rem;">
      <div style="background:#111827; border-radius:0.75rem; padding:1rem; border-left:4px solid #38bdf8;">
        <strong style="color:#f1f5f9;">üì∏ Build Clout</strong>
        <p style="color:#94a3b8; font-size:0.9rem; margin-top:0.25rem;">Show off progress & earn recognition each week.</p>
      </div>
      <div style="background:#1e293b; border-radius:0.75rem; padding:1rem; border-left:4px solid #64748b;">
        <strong style="color:#f1f5f9;">üèÜ Grand Prize</strong>
        <p style="color:#94a3b8; font-size:0.9rem; margin-top:0.25rem;">Push to the top for monthly champion status & rewards.</p>
      </div>
      <div style="background:#111827; border-radius:0.75rem; padding:1rem; border-left:4px solid #38bdf8;">
        <strong style="color:#f1f5f9;">üìä Learn Your Body</strong>
        <p style="color:#94a3b8; font-size:0.9rem; margin-top:0.25rem;">Track your physique with weekly FlexScore updates.</p>
      </div>
      <div style="background:#1e293b; border-radius:0.75rem; padding:1rem; border-left:4px solid #64748b;">
        <strong style="color:#f1f5f9;">üìÖ Stay Accountable</strong>
        <p style="color:#94a3b8; font-size:0.9rem; margin-top:0.25rem;">Weekly submissions motivate improvement over time.</p>
      </div>
    </div>

    <!-- Section kicker above CTA -->
    <h4 style="color:#f8fafc; font-size:1.15rem; font-weight:700; margin:2rem auto 0; text-align:center;">
      Get Your FlexCheck!
    </h4>

    <!-- CTA -->
    <div style="background:linear-gradient(135deg, #0f172a, #1e293b); border-left:4px solid #38bdf8; padding:1.5rem; border-radius:1rem; max-width:720px; margin:1rem auto 0; display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:1.25rem; font-family:'Inter', sans-serif; box-shadow:0 0 16px rgba(56,189,248,0.12);">
      <p style="margin:0; font-size:1.05rem; font-weight:600; line-height:1.5;">
        <span style="color:#64748b;">Physique.</span><br>
        <span style="color:#cbd5e1;">Compete.</span><br>
        <span style="color:#f8fafc;">Each <span style="color:#f8fafc;">Week.</span></span>
      </p>
  <a href="#" onclick="goToFormWithData(event)"
   style="text-decoration:none; background:linear-gradient(135deg, #38bdf8, #0ea5e9); color:#0f172a; font-weight:700; font-size:0.95rem; padding:0.75rem 1.25rem; border-radius:0.6rem; box-shadow:0 0 10px rgba(56,189,248,0.3); animation:popPulse 2s ease-in-out infinite; transition:transform 0.2s;">
  üöÄ Submit FlexCheck ‚Üí
</a>
    </div>
  </div>
</div>

</div>






<style>
/* ‚ñë‚ñë‚ñë FLEXCHECK ‚Äì WRAPPER ‚ñë‚ñë‚ñë */
.flexcheck-wrapper {
  font-family: 'Inter', sans-serif;
  background: #0f172a;
  color: #e2e8f0;
  padding: 2rem 1rem;
  border-radius: 1.25rem;
  max-width: 860px;
  margin: 2rem auto;
  box-shadow: 0 0 24px rgba(56, 189, 248, 0.12);
  border: 1px solid #334155;
}

/* ‚ñë‚ñë‚ñë TITLES & SECTIONS ‚ñë‚ñë‚ñë */
.fc-title {
  font-size: 1.5rem;
  color: #38bdf8;
  font-weight: 800;
  margin-bottom: 1.25rem;
  text-align: center;
}

.fc-section {
  margin-bottom: 2rem;
}

/* ‚ñë‚ñë‚ñë CONTENT BLOCKS ‚ñë‚ñë‚ñë */
.fc-block {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  margin-bottom: 1.25rem;
  padding: 1rem;
  background: #1e293b;
  border-radius: 0.75rem;
  border-left: 4px solid #38bdf8;
}

.fc-block.alt {
  background: #111827;
  border-left: 4px solid #64748b;
}

.fc-icon {
  font-size: 1.25rem;
  margin-top: 2px;
  flex-shrink: 0;
}

.fc-summary {
  font-size: 1rem;
  font-weight: 700;
  color: #f1f5f9;
  margin-bottom: 0.25rem;
}

.fc-detail {
  font-size: 0.925rem;
  color: #94a3b8;
  line-height: 1.4;
}

/* ‚ñë‚ñë‚ñë RESPONSIVE ‚ñë‚ñë‚ñë */
@media (max-width: 600px) {
  .fc-block {
    flex-direction: row;
    align-items: flex-start;
  }
  .fc-summary {
    font-size: 1rem;
  }
  .fc-detail {
    font-size: 0.875rem;
  }
}

/* ‚ñë‚ñë‚ñë DROPDOWN ‚ñë‚ñë‚ñë */
details.flexcheck-dropdown {
  border: none;
  background: none;
  padding: 0;
  margin-bottom: 2rem;
  box-shadow: none;
}

summary.fc-dropdown-label {
  all: unset;
  display: block;
  width: fit-content;
  margin: 0 auto 1.5rem auto;
  background-color: #38bdf8;
  color: #0f172a;
  font-size: 1.25rem;
  font-weight: 800;
  padding: 0.75rem 1.5rem;
  border-radius: 9999px;
  cursor: pointer;
  text-align: center;
  transition: background-color 0.25s ease, transform 0.2s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

summary.fc-dropdown-label::marker {
  display: none;
}

summary.fc-dropdown-label::after {
  content: "‚ñº";
  font-size: 0.9rem;
  margin-left: 0.5rem;
  color: #64748b;
  transition: transform 0.2s ease;
}

details[open] summary.fc-dropdown-label::after {
  transform: rotate(180deg);
}

.fc-dropdown-desc {
  font-size: 1rem;
  color: #94a3b8;
  text-align: center;
  margin-bottom: 2.5rem;
}

/* ‚ñë‚ñë‚ñë ANIMATIONS ‚ñë‚ñë‚ñë */
@keyframes popPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}
</style>

<script>
(function(){
  const btn = document.getElementById('whyToggle');
  const panel = document.getElementById('whyContent');
  const chevron = btn.querySelector('svg');

  btn.addEventListener('click', () => {
    const open = btn.getAttribute('aria-expanded') === 'true';
    btn.setAttribute('aria-expanded', String(!open));
    // expand/collapse
    if (open) {
      panel.style.maxHeight = '0';
      panel.style.opacity = '0';
      chevron.style.transform = 'rotate(0deg)';
    } else {
      // set to scrollHeight so it fits dynamic content
      panel.style.maxHeight = panel.scrollHeight + 'px';
      panel.style.opacity = '1';
      chevron.style.transform = 'rotate(180deg)';
    }
  });
})();

(function(){
  const btn = document.getElementById('howToggle');
  const panel = document.getElementById('howContent');
  const chevron = btn.querySelector('svg');

  btn.addEventListener('click', () => {
    const open = btn.getAttribute('aria-expanded') === 'true';
    btn.setAttribute('aria-expanded', String(!open));

    if (open) {
      panel.style.maxHeight = '0';
      panel.style.opacity = '0';
      chevron.style.transform = 'rotate(0deg)';
    } else {
      panel.style.maxHeight = panel.scrollHeight + 'px';
      panel.style.opacity = '1';
      chevron.style.transform = 'rotate(180deg)';
    }
  });
})();
function goToFormWithData(event) {
    event.preventDefault();
    
    // Get cached data from flexcheckCacheV3
    const cachedDataString = localStorage.getItem('flexcheckCacheV3');
    if (!cachedDataString) {
        // No cached data, go to form normally
        window.open('https://www.gameplanfitness.com/flexcheck/premium-flexcheck/', '_blank');
        return;
    }
    
    try {
        const cachedData = JSON.parse(cachedDataString);
        const firstEntry = Object.values(cachedData.entriesById)[0];
        
        if (!firstEntry) {
            // No entry data, go to form normally
            window.open('https://www.gameplanfitness.com/flexcheck/premium-flexcheck/', '_blank');
            return;
        }
        
        // Build URL with parameters
        const baseUrl = 'https://www.gameplanfitness.com/flexcheck/premium-flexcheck/';
        const params = new URLSearchParams();
        
        // Add all parameters based on field mapping
        if (firstEntry.email) {
            params.append('email', firstEntry.email);
        }
        if (firstEntry.result) {
            const result = firstEntry.result;
            if (result.age) params.append('numeric_field_4', result.age);
            if (result.heightCm) params.append('numeric_field_2', result.heightCm);
            if (result.heightIn) params.append('numeric_field', result.heightIn);
            if (result.socialHandle) params.append('input_text', result.socialHandle);
            if (result.weightKg) params.append('numeric_field_1', result.weightKg);
            if (result.weightLb) params.append('numeric_field_3', result.weightLb);
            if (result.trainingAgeYears) params.append('numeric_field_5', result.trainingAgeYears);
        }
        
        // Navigate to form page with parameters
        window.open(baseUrl + '?' + params.toString(), '_blank');
        
    } catch (error) {
        console.error('Error processing cached data:', error);
        // Fallback to normal form
        window.open('https://www.gameplanfitness.com/flexcheck/premium-flexcheck/', '_blank');
    }
}
</script>